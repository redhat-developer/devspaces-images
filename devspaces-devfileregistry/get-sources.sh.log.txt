======= BOOTSTRAP DOCKERFILE =======>
#
# Copyright (c) 2018-2022 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#   IBM Corporation - implementation
#

# Builder: check meta.yamls and create index.json
# registry.access.redhat.com/ubi8/python-38
FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 as builder
USER 0

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}
# if not defined or string is null, allow all registries/tags in list_referenced_images
# otherwise restrict to only those space-separated registries/tags; if others found, build will fail
# useful for failing build if quay images in an RC, or wrong devspaces image tag (3.2 in 3.1 build)
ARG ALLOWED_REGISTRIES=""
ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
ARG ALLOWED_TAGS=""
ENV ALLOWED_TAGS=${ALLOWED_TAGS}

COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
COPY ./build/dockerfiles/rhel.install.sh /tmp
RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh

COPY ./build/scripts ./versions.json /build/
COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
COPY ./VERSION /
COPY ./devfiles /build/devfiles
WORKDIR /build/

RUN ./generate_devworkspace_templates.sh
RUN chmod -R g+rwX /build/resources

# validate devfile content
RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
RUN ./check_mandatory_fields.sh devfiles

# Cache projects in DS 
COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 

# don't do swaps, or we end up with missing content if built on s390x or ppc64le worker
# RUN ./swap_yamlfiles.sh devfiles
# RUN ./swap_images.sh devfiles
RUN ./index.sh > /build/devfiles/index.json && \
    ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt && \
    ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt && \
    chmod -R g+rwX /build/devfiles

<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/23: FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 AS builder
STEP 2/23: USER 0
--> 3d5d8df22a8
STEP 3/23: ARG BOOTSTRAP=true
--> 196f7c957d5
STEP 4/23: ENV BOOTSTRAP=${BOOTSTRAP}
--> 888ad401ed4
STEP 5/23: ARG ALLOWED_REGISTRIES=""
--> 07115485c54
STEP 6/23: ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
--> 7d243fdec2b
STEP 7/23: ARG ALLOWED_TAGS=""
--> 986b13fc88a
STEP 8/23: ENV ALLOWED_TAGS=${ALLOWED_TAGS}
--> 7cfeb5c93ec
STEP 9/23: COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
--> db139909c7b
STEP 10/23: COPY ./build/dockerfiles/rhel.install.sh /tmp
--> 0fb6276dfc1
STEP 11/23: RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh
Updating Subscription Management repositories.
Unable to read consumer identity
Subscription Manager is operating in container mode.

This system is not registered with an entitlement server. You can use subscription-manager to register.

Red Hat Enterprise Linux 8 for Power, little en  64 MB/s |  39 MB     00:00    
Red Hat Enterprise Linux 8 for Power, little en  65 MB/s |  44 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - BaseOS  711 kB/s | 577 kB     00:00    
Red Hat Universal Base Image 8 (RPMs) - AppStre 3.6 MB/s | 2.6 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - CodeRea  19 kB/s |  14 kB     00:00    
Package findutils-1:4.6.0-20.el8.ppc64le is already installed.
Package bash-4.4.20-3.el8.ppc64le is already installed.
Package wget-1.19.5-10.el8.ppc64le is already installed.
Package yum-4.7.0-8.el8.noarch is already installed.
Package git-2.31.1-2.el8.ppc64le is already installed.
Package gzip-1.9-13.el8_5.ppc64le is already installed.
Package tar-2:1.30-5.el8.ppc64le is already installed.
Package python3-six-1.11.0-8.el8.noarch is already installed.
Dependencies resolved.
================================================================================================================
 Package               Arch     Version                                 Repository                          Size
================================================================================================================
Installing:
 jq                    ppc64le  1.6-3.el8                               rhel-8-for-ppc64le-appstream-rpms  215 k
 python3-pip           noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-appstream-rpms   20 k
 skopeo                ppc64le  2:1.8.0-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  5.9 M
Upgrading:
 bash                  ppc64le  4.4.20-4.el8_6                          rhel-8-for-ppc64le-baseos-rpms     1.6 M
Installing dependencies:
 containers-common     ppc64le  2:1-35.module+el8.6.0+15917+093ca6f8    rhel-8-for-ppc64le-appstream-rpms  109 k
 criu                  ppc64le  3.15-3.module+el8.6.0+15875+dc9a2b96    rhel-8-for-ppc64le-appstream-rpms  536 k
 fuse-common           ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      22 k
 fuse3                 ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      57 k
 fuse3-libs            ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      99 k
 iptables-libs         ppc64le  1.8.4-22.el8                            rhel-8-for-ppc64le-baseos-rpms     114 k
 jansson               ppc64le  2.14-1.el8                              rhel-8-for-ppc64le-baseos-rpms      51 k
 kmod                  ppc64le  25-19.el8                               rhel-8-for-ppc64le-baseos-rpms     138 k
 libibverbs            ppc64le  37.2-1.el8                              rhel-8-for-ppc64le-baseos-rpms     412 k
 libmnl                ppc64le  1.0.4-6.el8                             rhel-8-for-ppc64le-baseos-rpms      31 k
 libnet                ppc64le  1.1.6-15.el8                            rhel-8-for-ppc64le-appstream-rpms   73 k
 libnftnl              ppc64le  1.1.5-5.el8                             rhel-8-for-ppc64le-baseos-rpms      88 k
 libpcap               ppc64le  14:1.9.1-5.el8                          rhel-8-for-ppc64le-baseos-rpms     176 k
 libslirp              ppc64le  4.4.0-1.module+el8.6.0+15875+dc9a2b96   rhel-8-for-ppc64le-appstream-rpms   74 k
 nftables              ppc64le  1:0.9.3-25.el8                          rhel-8-for-ppc64le-baseos-rpms     340 k
 oniguruma             ppc64le  6.8.2-2.el8                             rhel-8-for-ppc64le-appstream-rpms  199 k
 platform-python-pip   noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-baseos-rpms     1.6 M
 protobuf-c            ppc64le  1.3.0-6.el8                             rhel-8-for-ppc64le-appstream-rpms   40 k
 python3-setuptools    noarch   39.2.0-6.el8                            rhel-8-for-ppc64le-baseos-rpms     163 k
 python36              ppc64le  3.6.8-38.module+el8.5.0+12207+5c5719bc  rhel-8-for-ppc64le-appstream-rpms   19 k
 runc                  ppc64le  1:1.1.3-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  2.6 M
Installing weak dependencies:
 fuse-overlayfs        ppc64le  1.9-1.module+el8.6.0+15917+093ca6f8     rhel-8-for-ppc64le-appstream-rpms   74 k
 slirp4netns           ppc64le  1.2.0-2.module+el8.6.0+15917+093ca6f8   rhel-8-for-ppc64le-appstream-rpms   59 k
Enabling module streams:
 container-tools                rhel8                                                                           
 python36                       3.6                                                                             

Transaction Summary
================================================================================================================
Install  26 Packages
Upgrade   1 Package

Total download size: 15 M
Downloading Packages:
(1/27): protobuf-c-1.3.0-6.el8.ppc64le.rpm      284 kB/s |  40 kB     00:00    
(2/27): libnet-1.1.6-15.el8.ppc64le.rpm         515 kB/s |  73 kB     00:00    
(3/27): oniguruma-6.8.2-2.el8.ppc64le.rpm       1.2 MB/s | 199 kB     00:00    
(4/27): libpcap-1.9.1-5.el8.ppc64le.rpm         1.0 MB/s | 176 kB     00:00    
(5/27): python3-pip-9.0.3-22.el8.noarch.rpm     656 kB/s |  20 kB     00:00    
(6/27): libmnl-1.0.4-6.el8.ppc64le.rpm          172 kB/s |  31 kB     00:00    
(7/27): python36-3.6.8-38.module+el8.5.0+12207+ 360 kB/s |  19 kB     00:00    
(8/27): fuse-overlayfs-1.9-1.module+el8.6.0+159 2.6 MB/s |  74 kB     00:00    
(9/27): jq-1.6-3.el8.ppc64le.rpm                4.1 MB/s | 215 kB     00:00    
(10/27): libnftnl-1.1.5-5.el8.ppc64le.rpm       1.9 MB/s |  88 kB     00:00    
(11/27): containers-common-1-35.module+el8.6.0+ 2.7 MB/s | 109 kB     00:00    
(12/27): libslirp-4.4.0-1.module+el8.6.0+15875+ 1.9 MB/s |  74 kB     00:00    
(13/27): python3-setuptools-39.2.0-6.el8.noarch 673 kB/s | 163 kB     00:00    
(14/27): fuse3-3.3.0-15.el8.ppc64le.rpm         884 kB/s |  57 kB     00:00    
(15/27): criu-3.15-3.module+el8.6.0+15875+dc9a2 7.6 MB/s | 536 kB     00:00    
(16/27): platform-python-pip-9.0.3-22.el8.noarc  11 MB/s | 1.6 MB     00:00    
(17/27): fuse3-libs-3.3.0-15.el8.ppc64le.rpm    2.5 MB/s |  99 kB     00:00    
(18/27): libibverbs-37.2-1.el8.ppc64le.rpm      4.5 MB/s | 412 kB     00:00    
(19/27): slirp4netns-1.2.0-2.module+el8.6.0+159 2.2 MB/s |  59 kB     00:00    
(20/27): kmod-25-19.el8.ppc64le.rpm             2.4 MB/s | 138 kB     00:00    
(21/27): nftables-0.9.3-25.el8.ppc64le.rpm      5.6 MB/s | 340 kB     00:00    
(22/27): jansson-2.14-1.el8.ppc64le.rpm         735 kB/s |  51 kB     00:00    
(23/27): runc-1.1.3-2.module+el8.6.0+15917+093c  13 MB/s | 2.6 MB     00:00    
(24/27): fuse-common-3.3.0-15.el8.ppc64le.rpm   435 kB/s |  22 kB     00:00    
(25/27): iptables-libs-1.8.4-22.el8.ppc64le.rpm 3.2 MB/s | 114 kB     00:00    
(26/27): skopeo-1.8.0-2.module+el8.6.0+15917+09  21 MB/s | 5.9 MB     00:00    
(27/27): bash-4.4.20-4.el8_6.ppc64le.rpm        3.6 MB/s | 1.6 MB     00:00    
--------------------------------------------------------------------------------
Total                                            17 MB/s |  15 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Running scriptlet: bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Installing       : fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Running scriptlet: fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Installing       : libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Running scriptlet: libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Installing       : libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Running scriptlet: libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Installing       : libibverbs-37.2-1.el8.ppc64le                         5/28 
  Running scriptlet: libibverbs-37.2-1.el8.ppc64le                         5/28 
  Installing       : libpcap-14:1.9.1-5.el8.ppc64le                        6/28 
  Installing       : iptables-libs-1.8.4-22.el8.ppc64le                    7/28 
  Installing       : kmod-25-19.el8.ppc64le                                8/28 
  Installing       : fuse-common-3.3.0-15.el8.ppc64le                      9/28 
  Installing       : fuse3-3.3.0-15.el8.ppc64le                           10/28 
  Installing       : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   11/28 
  Running scriptlet: fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   11/28 
  Installing       : jansson-2.14-1.el8.ppc64le                           12/28 
  Installing       : nftables-1:0.9.3-25.el8.ppc64le                      13/28 
  Running scriptlet: nftables-1:0.9.3-25.el8.ppc64le                      13/28 
  Installing       : platform-python-pip-9.0.3-22.el8.noarch              14/28 
  Installing       : python3-setuptools-39.2.0-6.el8.noarch               15/28 
  Installing       : python3-pip-9.0.3-22.el8.noarch                      16/28 
  Installing       : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   17/28 
  Running scriptlet: python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   17/28 
  Installing       : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   18/28 
  Installing       : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   19/28 
  Installing       : protobuf-c-1.3.0-6.el8.ppc64le                       20/28 
  Installing       : oniguruma-6.8.2-2.el8.ppc64le                        21/28 
  Running scriptlet: oniguruma-6.8.2-2.el8.ppc64le                        21/28 
  Installing       : libnet-1.1.6-15.el8.ppc64le                          22/28 
  Running scriptlet: libnet-1.1.6-15.el8.ppc64le                          22/28 
  Installing       : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    23/28 
  Installing       : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   24/28 
  Installing       : containers-common-2:1-35.module+el8.6.0+15917+093c   25/28 
  Installing       : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   26/28 
  Installing       : jq-1.6-3.el8.ppc64le                                 27/28 
  Cleanup          : bash-4.4.20-3.el8.ppc64le                            28/28 
  Running scriptlet: bash-4.4.20-3.el8.ppc64le                            28/28 
  Verifying        : libnet-1.1.6-15.el8.ppc64le                           1/28 
  Verifying        : oniguruma-6.8.2-2.el8.ppc64le                         2/28 
  Verifying        : protobuf-c-1.3.0-6.el8.ppc64le                        3/28 
  Verifying        : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp    4/28 
  Verifying        : python3-pip-9.0.3-22.el8.noarch                       5/28 
  Verifying        : jq-1.6-3.el8.ppc64le                                  6/28 
  Verifying        : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8    7/28 
  Verifying        : containers-common-2:1-35.module+el8.6.0+15917+093c    8/28 
  Verifying        : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc    9/28 
  Verifying        : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   10/28 
  Verifying        : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   11/28 
  Verifying        : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    12/28 
  Verifying        : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   13/28 
  Verifying        : libmnl-1.0.4-6.el8.ppc64le                           14/28 
  Verifying        : python3-setuptools-39.2.0-6.el8.noarch               15/28 
  Verifying        : libpcap-14:1.9.1-5.el8.ppc64le                       16/28 
  Verifying        : platform-python-pip-9.0.3-22.el8.noarch              17/28 
  Verifying        : libnftnl-1.1.5-5.el8.ppc64le                         18/28 
  Verifying        : fuse3-3.3.0-15.el8.ppc64le                           19/28 
  Verifying        : libibverbs-37.2-1.el8.ppc64le                        20/28 
  Verifying        : fuse3-libs-3.3.0-15.el8.ppc64le                      21/28 
  Verifying        : kmod-25-19.el8.ppc64le                               22/28 
  Verifying        : jansson-2.14-1.el8.ppc64le                           23/28 
  Verifying        : nftables-1:0.9.3-25.el8.ppc64le                      24/28 
  Verifying        : fuse-common-3.3.0-15.el8.ppc64le                     25/28 
  Verifying        : iptables-libs-1.8.4-22.el8.ppc64le                   26/28 
  Verifying        : bash-4.4.20-4.el8_6.ppc64le                          27/28 
  Verifying        : bash-4.4.20-3.el8.ppc64le                            28/28 
Installed products updated.

Upgraded:
  bash-4.4.20-4.el8_6.ppc64le                                                   
Installed:
  containers-common-2:1-35.module+el8.6.0+15917+093ca6f8.ppc64le                
  criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le                             
  fuse-common-3.3.0-15.el8.ppc64le                                              
  fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8.ppc64le                    
  fuse3-3.3.0-15.el8.ppc64le                                                    
  fuse3-libs-3.3.0-15.el8.ppc64le                                               
  iptables-libs-1.8.4-22.el8.ppc64le                                            
  jansson-2.14-1.el8.ppc64le                                                    
  jq-1.6-3.el8.ppc64le                                                          
  kmod-25-19.el8.ppc64le                                                        
  libibverbs-37.2-1.el8.ppc64le                                                 
  libmnl-1.0.4-6.el8.ppc64le                                                    
  libnet-1.1.6-15.el8.ppc64le                                                   
  libnftnl-1.1.5-5.el8.ppc64le                                                  
  libpcap-14:1.9.1-5.el8.ppc64le                                                
  libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc64le                        
  nftables-1:0.9.3-25.el8.ppc64le                                               
  oniguruma-6.8.2-2.el8.ppc64le                                                 
  platform-python-pip-9.0.3-22.el8.noarch                                       
  protobuf-c-1.3.0-6.el8.ppc64le                                                
  python3-pip-9.0.3-22.el8.noarch                                               
  python3-setuptools-39.2.0-6.el8.noarch                                        
  python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.ppc64le                       
  runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64le                          
  skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                        
  slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                     

Complete!
Collecting yq
  Downloading https://files.pythonhosted.org/packages/60/2c/ab35b5ec3b884b6e33b18ba3f6be6b94d607501fca1e5a8de22988690cdb/yq-3.1.0-py3-none-any.whl
Collecting toml>=0.10.0
  Downloading https://files.pythonhosted.org/packages/44/6f/7120676b6d73228c96e17f1f794d8ab046fc910d781c8d151120c3f1569e/toml-0.10.2-py2.py3-none-any.whl
Collecting PyYAML>=5.3.1
  Downloading https://files.pythonhosted.org/packages/36/2b/61d51a2c4f25ef062ae3f74576b01638bebad5e045f747ff12643df63844/PyYAML-6.0.tar.gz (124kB)
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
    Preparing wheel metadata: started
    Preparing wheel metadata: finished with status 'done'
Collecting argcomplete>=1.8.1
  Downloading https://files.pythonhosted.org/packages/d3/e5/c5509683462e51b070df9e83e7f72c1ccfe3f733f328b4a0f06804c27278/argcomplete-2.0.0-py2.py3-none-any.whl
Collecting xmltodict>=0.11.0
  Downloading https://files.pythonhosted.org/packages/94/db/fd0326e331726f07ff7f40675cd86aa804bfd2e5016c727fa761c934990e/xmltodict-0.13.0-py2.py3-none-any.whl
Building wheels for collected packages: PyYAML
  Building wheel for PyYAML (PEP 517): started
  Building wheel for PyYAML (PEP 517): finished with status 'done'
  Created wheel for PyYAML: filename=PyYAML-6.0-cp38-cp38-linux_ppc64le.whl size=45333 sha256=9d73328d52eff9a25268f7aa0931439c2ab0a6163ef17a2065bc9729e0185d80
  Stored in directory: /tmp/pip-ephem-wheel-cache-7pvyj1y_/wheels/95/84/67/ebeac632c63797cfbeb90128ca41073117721540dad526d213
Successfully built PyYAML
Installing collected packages: toml, PyYAML, argcomplete, xmltodict, yq
Successfully installed PyYAML-6.0 argcomplete-2.0.0 toml-0.10.2 xmltodict-0.13.0 yq-3.1.0
python: Python 3.8.12
yq: yq 3.1.0
jq: jq-1.6
--> 6d20e6c8f4e
STEP 12/23: COPY ./build/scripts ./versions.json /build/
--> 43951d85edb
STEP 13/23: COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
--> 6054da4033a
STEP 14/23: COPY ./VERSION /
--> fcd628c3293
STEP 15/23: COPY ./devfiles /build/devfiles
--> 6daf64d8ae1
STEP 16/23: WORKDIR /build/
--> cb1f58f4e34
STEP 17/23: RUN ./generate_devworkspace_templates.sh

> core-js@2.6.12 postinstall /build/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m

+ @eclipse-che/che-theia-devworkspace-handler@0.0.1-1649678182
added 121 packages from 182 contributors and audited 121 packages in 10.199s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

+ @eclipse-che/che-code-devworkspace-handler@1.64.0-dev-210b722
added 2 packages from 1 contributor and audited 240 packages in 3.289s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
--> 83031adf0ba
STEP 18/23: RUN chmod -R g+rwX /build/resources
--> 10ae4937bcf
STEP 19/23: RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
 + quay.io/devspaces/code-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/machineexec-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/theia-endpoint-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/theia-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/udi-rhel8:3.3 PASS - 3.3 allowed
 = registry.redhat.io/jboss-eap-7/eap74-openjdk11-openshift-rhel8:7.4.4 PASS
 = registry.redhat.io/jboss-eap-7/eap-xp3-openjdk11-openshift-rhel8:3.0 PASS
 = registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS
--> b632435dbaa
STEP 20/23: RUN ./check_mandatory_fields.sh devfiles
Checking devfile 'devfiles/00_java11-maven-eap/meta.yaml'
Checking devfile 'devfiles/00_java11-maven-microprofile-xp3/meta.yaml'
Checking devfile 'devfiles/03_camelk/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-gradle/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-lombok/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-quarkus/meta.yaml'
Checking devfile 'devfiles/04_nodejs-mongo/meta.yaml'
Checking devfile 'devfiles/04_nodejs-simple/meta.yaml'
Checking devfile 'devfiles/04_python/meta.yaml'
Checking devfile 'devfiles/05_cpp/meta.yaml'
Checking devfile 'devfiles/05_go/meta.yaml'
Checking devfile 'devfiles/05_php-cake/meta.yaml'
Checking devfile 'devfiles/05_php-di/meta.yaml'
--> 6f8d584c430
STEP 21/23: COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
--> d5f1510ef95
STEP 22/23: RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 
--> 25d3f7e649e
STEP 23/23: RUN ./index.sh > /build/devfiles/index.json &&     ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt &&     ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt &&     chmod -R g+rwX /build/devfiles
COMMIT devfileregistry:tmp
--> 70145a8b14e
Successfully tagged localhost/devfileregistry:tmp
70145a8b14eaddeb7ca8adfa224567d70f3c0368b245edf1cd5b0288c83507cd
<======= END BOOTSTRAP BUILD =======
Downloading root-local.tgz
Downloading resources.tgz
DIFF START *****
diff --suppress-common-lines -u -r -x '*.pyc' -x installed-files.txt /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA /tmp/tmp.FClefEWvSJ/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA
--- /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA	2022-09-18 08:51:38.000000000 +0000
+++ /tmp/tmp.FClefEWvSJ/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA	2022-09-27 13:26:47.823600056 +0000
@@ -3,10 +3,10 @@
 Version: 6.0
 Summary: YAML parser and emitter for Python
 Home-page: https://pyyaml.org/
+Download-URL: https://pypi.org/project/PyYAML/
 Author: Kirill Simonov
 Author-email: xi@resolvent.net
 License: MIT
-Download-URL: https://pypi.org/project/PyYAML/
 Project-URL: Bug Tracker, https://github.com/yaml/pyyaml/issues
 Project-URL: CI, https://github.com/yaml/pyyaml/actions
 Project-URL: Documentation, https://pyyaml.org/wiki/PyYAMLDocumentation
@@ -43,4 +43,3 @@
 
 PyYAML is applicable for a broad range of tasks from complex
 configuration files to object serialization and persistence.
-
diff --suppress-common-lines -u -r -x '*.pyc' -x installed-files.txt /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD /tmp/tmp.FClefEWvSJ/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD
--- /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD	2022-09-18 08:51:38.000000000 +0000
+++ /tmp/tmp.FClefEWvSJ/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD	2022-09-27 13:26:47.823600056 +0000
@@ -1,8 +1,8 @@
 PyYAML-6.0.dist-info/INSTALLER,sha256=zuuue4knoyJ-UwPPXg8fezS7VCrXJQrAP7zeNuwvFQg,4
 PyYAML-6.0.dist-info/LICENSE,sha256=jTko-dxEkP1jVwfLiOsmvXZBAqcoKVQwfT5RZ6V36KQ,1101
-PyYAML-6.0.dist-info/METADATA,sha256=QmHx9kGp_0yezQCXYaft4eEFeJ6W4oyFfYwHDLP1kdg,2006
+PyYAML-6.0.dist-info/METADATA,sha256=Q56A1jQxEnzMMCyqgYkqM5Egvr9y18VExGF3ciGLjlY,2005
 PyYAML-6.0.dist-info/RECORD,,
-PyYAML-6.0.dist-info/WHEEL,sha256=RiwktpmF40OphKd3_aIG01PzIOQlJ7dpBn3cFSc9vak,217
+PyYAML-6.0.dist-info/WHEEL,sha256=VXb7H8_fWiBJHbEvxuDSYbC9VxfKWz2_woH0TyHF8yQ,104
 PyYAML-6.0.dist-info/top_level.txt,sha256=rpj0IVMTisAjh_1vG3Ccf9v5jpCQwAz6cD1IVU5ZdhQ,11
 _yaml/__init__.py,sha256=04Ae_5osxahpJHa3XBZUAf4wi6XX32gR8D6X6p64GEA,1402
 _yaml/__pycache__/__init__.cpython-38.pyc,,
@@ -24,7 +24,6 @@
 yaml/__pycache__/scanner.cpython-38.pyc,,
 yaml/__pycache__/serializer.cpython-38.pyc,,
 yaml/__pycache__/tokens.cpython-38.pyc,,
-yaml/_yaml.cpython-38-x86_64-linux-gnu.so,sha256=lMaKSmQZy3WNZSmmU0Wg5Y5ZAs-HR5vItyGVUIsp8Rg,2847784
 yaml/composer.py,sha256=_Ko30Wr6eDWUeUpauUGT3Lcg9QPBnOPVlTnIMRGJ9FM,4883
 yaml/constructor.py,sha256=kNgkfaeLUkwQYY_Q6Ff1Tz2XVw_pG1xVE9Ak7z-viLA,28639
 yaml/cyaml.py,sha256=6ZrAG9fAYvdVe2FK_w0hmXoG7ZYsoYUwapG8CiC72H0,3851
diff --suppress-common-lines -u -r -x '*.pyc' -x installed-files.txt /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL /tmp/tmp.FClefEWvSJ/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL
--- /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL	2022-09-18 08:51:38.000000000 +0000
+++ /tmp/tmp.FClefEWvSJ/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL	2022-09-27 13:26:47.823600056 +0000
@@ -1,8 +1,5 @@
 Wheel-Version: 1.0
-Generator: bdist_wheel (0.37.0)
+Generator: bdist_wheel (0.37.1)
 Root-Is-Purelib: false
-Tag: cp38-cp38-manylinux_2_5_x86_64
-Tag: cp38-cp38-manylinux1_x86_64
-Tag: cp38-cp38-manylinux_2_12_x86_64
-Tag: cp38-cp38-manylinux2010_x86_64
+Tag: cp38-cp38-linux_ppc64le
 
Only in /tmp/tmp.wGSbszF2Qf/lib/python3.8/site-packages/yaml: _yaml.cpython-38-x86_64-linux-gnu.so
***** END DIFF
DIFF START *****
diff --suppress-common-lines -u -r /tmp/tmp.W2MeJiHmJi/devfiles/04_nodejs-mongo/meta.yaml /tmp/tmp.x6Ii4HnMKO/devfiles/04_nodejs-mongo/meta.yaml
--- /tmp/tmp.W2MeJiHmJi/devfiles/04_nodejs-mongo/meta.yaml	2022-09-18 08:51:39.000000000 +0000
+++ /tmp/tmp.x6Ii4HnMKO/devfiles/04_nodejs-mongo/meta.yaml	2022-09-27 13:26:49.473559125 +0000
@@ -1,7 +1,7 @@
-displayName: NodeJS MongoDB
-description: NodeJS stack with NPM 8, NodeJS 16 and MongoDB 3.6
+displayName: Node.js MongoDB
+description: Node.js stack with NPM 8, Node.js 16 and MongoDB 3.6
 tags:
-  - NodeJS
+  - Node.js
   - NPM
   - Express
   - MongoDB
diff --suppress-common-lines -u -r /tmp/tmp.W2MeJiHmJi/devfiles/04_nodejs-simple/meta.yaml /tmp/tmp.x6Ii4HnMKO/devfiles/04_nodejs-simple/meta.yaml
--- /tmp/tmp.W2MeJiHmJi/devfiles/04_nodejs-simple/meta.yaml	2022-09-18 08:51:39.000000000 +0000
+++ /tmp/tmp.x6Ii4HnMKO/devfiles/04_nodejs-simple/meta.yaml	2022-09-27 13:26:49.473559125 +0000
@@ -1,7 +1,7 @@
-displayName: NodeJS Express
-description: NodeJS stack with NPM 8, NodeJS 16 and Express Web Application
+displayName: Node.js Express
+description: Node.js stack with NPM 8, Node.js 16 and Express Web Application
 tags:
-  - NodeJS
+  - Node.js
   - NPM
   - Express
   - UBI8
diff --suppress-common-lines -u -r /tmp/tmp.W2MeJiHmJi/devfiles/05_cpp/meta.yaml /tmp/tmp.x6Ii4HnMKO/devfiles/05_cpp/meta.yaml
--- /tmp/tmp.W2MeJiHmJi/devfiles/05_cpp/meta.yaml	2022-09-18 08:51:39.000000000 +0000
+++ /tmp/tmp.x6Ii4HnMKO/devfiles/05_cpp/meta.yaml	2022-09-27 13:26:49.473559125 +0000
@@ -4,7 +4,7 @@
   - Tech-Preview
   - C
   - C++
-  - clang
+  - Clang
   - GCC
   - g++
   - make
diff --suppress-common-lines -u -r /tmp/tmp.W2MeJiHmJi/devfiles/index.json /tmp/tmp.x6Ii4HnMKO/devfiles/index.json
--- /tmp/tmp.W2MeJiHmJi/devfiles/index.json	2022-09-18 08:51:39.000000000 +0000
+++ /tmp/tmp.x6Ii4HnMKO/devfiles/index.json	2022-09-27 13:26:49.473559125 +0000
@@ -116,10 +116,10 @@
     }
   },
   {
-    "displayName": "NodeJS MongoDB",
-    "description": "NodeJS stack with NPM 8, NodeJS 16 and MongoDB 3.6",
+    "displayName": "Node.js MongoDB",
+    "description": "Node.js stack with NPM 8, Node.js 16 and MongoDB 3.6",
     "tags": [
-      "NodeJS",
+      "Node.js",
       "NPM",
       "Express",
       "MongoDB",
@@ -135,10 +135,10 @@
     }
   },
   {
-    "displayName": "NodeJS Express",
-    "description": "NodeJS stack with NPM 8, NodeJS 16 and Express Web Application",
+    "displayName": "Node.js Express",
+    "description": "Node.js stack with NPM 8, Node.js 16 and Express Web Application",
     "tags": [
-      "NodeJS",
+      "Node.js",
       "NPM",
       "Express",
       "UBI8"
@@ -176,7 +176,7 @@
       "Tech-Preview",
       "C",
       "C++",
-      "clang",
+      "Clang",
       "GCC",
       "g++",
       "make",
***** END DIFF
Untagged: localhost/devfileregistry:tmp
Deleted: 70145a8b14eaddeb7ca8adfa224567d70f3c0368b245edf1cd5b0288c83507cd
Deleted: 25d3f7e649e8d91ab8e4941d757543a5a163ae18df0f9cb2b2560cb03bfa9d1b
Deleted: d5f1510ef95f6491146acc0fe3f314d93426aed04954014a801b4be1da52b499
Deleted: 6f8d584c4301e59c24f504a4a13de3f0cbd0dfd2632a9ed2fbaae10979e5679d
Deleted: b632435dbaa527fa09628ec480b369c294d4402d64c7cf7806a8163a000771fc
Deleted: 10ae4937bcfa2f5b2abf183304a5536903c7769fe489d4f4a7f9b980775fc727
Deleted: 83031adf0ba1331468864c3688a032cafc618d67d9d898eaa02e4887de4fd8d0
Deleted: cb1f58f4e3461bf813512d17a07628ad77d3e2d903e73934083ce3989781554e
Deleted: 6daf64d8ae109a4d9faada2bc8f22e0a808c0c97d46b5b262a907ff9bc077fb8
Deleted: fcd628c32933ec172c0445b7fbeb7194da28a2f79377a8fe61ae34e15fa849f9
Deleted: 6054da4033a60b67a479376e24ef94cff7c2335c8763b2115d082dddc8574bdd
Deleted: 43951d85edb907920e656e2c934628c595dfad0574e62677092504d3bc822bef
Deleted: 6d20e6c8f4e26fc85db2a40dace8ecb65ced5680764c02799178592582cc2b74
Deleted: 0fb6276dfc134ef8d679bacb6696b7aee9eb79e4d9b2c0b571b29e611a4125e9
Deleted: db139909c7b6bcbe74399cadb1dc71a2d71218de005368b3bffbfc6c939ad747
Deleted: 7cfeb5c93ec78bb50d883b6c8d32d7f7f23536b6f3f66596a8e8f56c21d64b9c
Deleted: 986b13fc88a9e21138960af07ad1978912fe14e09096ab2d619ee8d7113cc522
Deleted: 7d243fdec2b142f786f1311fe64f643d9feb3932905495ca75be502e8b30608b
Deleted: 07115485c542130e8efa9f5dd80a179dbc6e810a33f3f53551187e36861aaee7
Deleted: 888ad401ed4ce5f6149de43cb70ff90430d3ef16fb4dd5570e379641d4e33bb6
Deleted: 196f7c957d56e1126336095ce2c30f73f393f47d4cb0db79049efdedec71f33d
Deleted: 3d5d8df22a8c32a1755b64e55cb6d8aa14812776ac044b3d104d3f8520a50f5d
Uploading: root-local.tgz
Uploading: resources.tgz
Source upload succeeded. Don't forget to commit the sources file
rm 'resources.tgz'
rm 'root-local.tgz'
